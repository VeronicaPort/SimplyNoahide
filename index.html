<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>People Finder Map</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { margin: 0; padding: 0; font-family: system-ui, -apple-system, sans-serif; }
    </style>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState } = React;
        
        const PeopleFinderDatabase = () => {
          const [people, setPeople] = useState([
            { id: 1, name: "Sarah Johnson", city: "Charlotte", state: "North Carolina", country: "USA", lat: 35.2271, lng: -80.8431, isContact: true, email: "sarah.j@example.com" },
            { id: 2, name: "Michael Chen", city: "Raleigh", state: "North Carolina", country: "USA", lat: 35.7796, lng: -78.6382, isContact: false, email: null },
            { id: 3, name: "Emily Rodriguez", city: "Durham", state: "North Carolina", country: "USA", lat: 35.9940, lng: -78.8986, isContact: false, email: null },
            { id: 4, name: "David Kim", city: "Atlanta", state: "Georgia", country: "USA", lat: 33.7490, lng: -84.3880, isContact: true, email: "david.kim@example.com" },
            { id: 5, name: "Jessica Brown", city: "Charleston", state: "South Carolina", country: "USA", lat: 32.7765, lng: -79.9311, isContact: true, email: "jessica.b@example.com" },
            { id: 6, name: "Alex Taylor", city: "Asheville", state: "North Carolina", country: "USA", lat: 35.5951, lng: -82.5515, isContact: false, email: null },
            { id: 7, name: "Maria Garcia", city: "Miami", state: "Florida", country: "USA", lat: 25.7617, lng: -80.1918, isContact: true, email: "maria.garcia@example.com" },
            { id: 8, name: "James Wilson", city: "Nashville", state: "Tennessee", country: "USA", lat: 36.1627, lng: -86.7816, isContact: true, email: "james.w@example.com" },
            { id: 9, name: "Sophie Laurent", city: "Toronto", state: "Ontario", country: "Canada", lat: 43.6532, lng: -79.3832, isContact: true, email: "sophie.l@example.com" },
            { id: 10, name: "Lucas Tremblay", city: "Montreal", state: "Quebec", country: "Canada", lat: 45.5017, lng: -73.5673, isContact: true, email: "lucas.t@example.com" },
            { id: 11, name: "Emma MacDonald", city: "Vancouver", state: "British Columbia", country: "Canada", lat: 49.2827, lng: -123.1207, isContact: true, email: "emma.m@example.com" },
            { id: 12, name: "Oliver Singh", city: "Calgary", state: "Alberta", country: "Canada", lat: 51.0447, lng: -114.0719, isContact: true, email: "oliver.s@example.com" },
            { id: 13, name: "Isabella Martinez", city: "Los Angeles", state: "California", country: "USA", lat: 34.0522, lng: -118.2437, isContact: true, email: "isabella.m@example.com" },
            { id: 14, name: "Noah Thompson", city: "New York", state: "New York", country: "USA", lat: 40.7128, lng: -74.0060, isContact: true, email: "noah.t@example.com" },
            { id: 15, name: "Ava Anderson", city: "Seattle", state: "Washington", country: "USA", lat: 47.6062, lng: -122.3321, isContact: true, email: "ava.a@example.com" },
          ]);

          const [meetingPlaces, setMeetingPlaces] = useState([
            { id: 101, name: "Charlotte Community Center", address: "123 Main St, Charlotte, NC 28202", state: "North Carolina", country: "USA", lat: 35.2276, lng: -80.8420 },
            { id: 102, name: "Atlanta Meeting Hall", address: "456 Peachtree St, Atlanta, GA 30308", state: "Georgia", country: "USA", lat: 33.7500, lng: -84.3890 },
            { id: 103, name: "Toronto Group Space", address: "789 King St, Toronto, ON M5H 1K1", state: "Ontario", country: "Canada", lat: 43.6540, lng: -79.3830 },
          ]);

          const [filters, setFilters] = useState({
            state: "All",
            country: "All",
            maxDistance: 500,
            searchTerm: ""
          });

          const [selectedPerson, setSelectedPerson] = useState(null);
          const [selectedPlace, setSelectedPlace] = useState(null);
          const [userLocation, setUserLocation] = useState({ lat: 35.2271, lng: -80.8431, city: "Charlotte, NC" });

          const calculateDistance = (lat1, lng1, lat2, lng2) => {
            const R = 3959;
            const dLat = (lat2 - lat1) * Math.PI / 180;
            const dLng = (lng2 - lng1) * Math.PI / 180;
            const a = Math.sin(dLat/2) * Math.sin(dLat/2) +
                      Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) *
                      Math.sin(dLng/2) * Math.sin(dLng/2);
            const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
            return R * c;
          };

          const filteredPeople = people.filter(person => {
            const distance = calculateDistance(userLocation.lat, userLocation.lng, person.lat, person.lng);
            const matchesState = filters.state === "All" || person.state === filters.state;
            const matchesCountry = filters.country === "All" || person.country === filters.country;
            const withinDistance = distance <= filters.maxDistance;
            const matchesSearch = filters.searchTerm === "" || 
                                  person.name.toLowerCase().includes(filters.searchTerm.toLowerCase()) ||
                                  person.city.toLowerCase().includes(filters.searchTerm.toLowerCase()) ||
                                  person.state.toLowerCase().includes(filters.searchTerm.toLowerCase());
            
            return matchesState && matchesCountry && withinDistance && matchesSearch;
          }).map(person => ({
            ...person,
            distance: Math.round(calculateDistance(userLocation.lat, userLocation.lng, person.lat, person.lng))
          }));

          const filteredMeetingPlaces = meetingPlaces.filter(place => {
            const distance = calculateDistance(userLocation.lat, userLocation.lng, place.lat, place.lng);
            const matchesState = filters.state === "All" || place.state === filters.state;
            const matchesCountry = filters.country === "All" || place.country === filters.country;
            const withinDistance = distance <= filters.maxDistance;
            
            return matchesState && matchesCountry && withinDistance;
          }).map(place => ({
            ...place,
            distance: Math.round(calculateDistance(userLocation.lat, userLocation.lng, place.lat, place.lng))
          }));

          const handlePersonClick = (person) => {
            setSelectedPerson(person);
            setSelectedPlace(null);
          };

          const handlePlaceClick = (place) => {
            setSelectedPlace(place);
            setSelectedPerson(null);
          };

          const usStates = [
            "Alabama", "Alaska", "Arizona", "Arkansas", "California", "Colorado", "Connecticut", 
            "Delaware", "Florida", "Georgia", "Hawaii", "Idaho", "Illinois", "Indiana", "Iowa", 
            "Kansas", "Kentucky", "Louisiana", "Maine", "Maryland", "Massachusetts", "Michigan", 
            "Minnesota", "Mississippi", "Missouri", "Montana", "Nebraska", "Nevada", "New Hampshire", 
            "New Jersey", "New Mexico", "New York", "North Carolina", "North Dakota", "Ohio", 
            "Oklahoma", "Oregon", "Pennsylvania", "Rhode Island", "South Carolina", "South Dakota", 
            "Tennessee", "Texas", "Utah", "Vermont", "Virginia", "Washington", "West Virginia", 
            "Wisconsin", "Wyoming"
          ];

          const canadianProvinces = [
            "Alberta", "British Columbia", "Manitoba", "New Brunswick", "Newfoundland and Labrador",
            "Northwest Territories", "Nova Scotia", "Nunavut", "Ontario", "Prince Edward Island",
            "Quebec", "Saskatchewan", "Yukon"
          ];

          const countries = ["USA", "Canada"];

          return (
            <div className="flex h-screen bg-gray-100">
              <div className="w-96 bg-white shadow-lg overflow-y-auto">
                <div className="p-6 border-b bg-indigo-600 text-white">
                  <h1 className="text-2xl font-bold flex items-center gap-2">
                    <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" />
                    </svg>
                    People Finder
                  </h1>
                  <p className="text-sm mt-1 text-indigo-100">{filteredPeople.length} people ‚Ä¢ {filteredMeetingPlaces.length} meeting places</p>
                  <p className="text-xs mt-1 text-indigo-200">üìç Your location: {userLocation.city}</p>
                </div>

                <div className="p-6 border-b bg-gray-50">
                  <h2 className="font-semibold mb-4 text-lg">Filters</h2>
                  
                  <div className="space-y-4">
                    <div>
                      <label className="block text-sm font-medium mb-2">Search</label>
                      <div className="relative">
                        <svg className="absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                        </svg>
                        <input
                          type="text"
                          placeholder="Name, city, state..."
                          value={filters.searchTerm}
                          onChange={(e) => setFilters({...filters, searchTerm: e.target.value})}
                          className="w-full pl-10 pr-3 py-2 border rounded-lg text-sm"
                        />
                      </div>
                    </div>

                    <div>
                      <label className="block text-sm font-medium mb-2">Country</label>
                      <select
                        value={filters.country}
                        onChange={(e) => setFilters({...filters, country: e.target.value})}
                        className="w-full px-3 py-2 border rounded-lg"
                      >
                        <option value="All">All Countries</option>
                        {countries.map(country => (
                          <option key={country} value={country}>{country}</option>
                        ))}
                      </select>
                    </div>

                    <div>
                      <label className="block text-sm font-medium mb-2">State/Province</label>
                      <select
                        value={filters.state}
                        onChange={(e) => setFilters({...filters, state: e.target.value})}
                        className="w-full px-3 py-2 border rounded-lg"
                      >
                        <option value="All">All States/Provinces</option>
                        <optgroup label="United States">
                          {usStates.map(state => (
                            <option key={state} value={state}>{state}</option>
                          ))}
                        </optgroup>
                        <optgroup label="Canada">
                          {canadianProvinces.map(province => (
                            <option key={province} value={province}>{province}</option>
                          ))}
                        </optgroup>
                      </select>
                    </div>

                    <div>
                      <label className="block text-sm font-medium mb-2">
                        Max Distance: {filters.maxDistance} miles
                      </label>
                      <input
                        type="range"
                        min="10"
                        max="1000"
                        step="10"
                        value={filters.maxDistance}
                        onChange={(e) => setFilters({...filters, maxDistance: Number(e.target.value)})}
                        className="w-full"
                      />
                      <div className="flex justify-between text-xs text-gray-500 mt-1">
                        <span>10 mi</span>
                        <span>1000 mi</span>
                      </div>
                    </div>
                  </div>
                </div>

                <div className="p-4 space-y-3">
                  {filteredPeople.map(person => (
                    <div
                      key={person.id}
                      onClick={() => handlePersonClick(person)}
                      className={`p-4 border rounded-lg cursor-pointer transition-all hover:shadow-md ${
                        selectedPerson?.id === person.id ? 'border-indigo-500 bg-indigo-50' : 'border-gray-200 hover:border-gray-300'
                      } ${person.isContact ? 'bg-green-50 border-green-300' : ''}`}
                    >
                      <div className="flex items-start gap-3">
                        {person.isContact && (
                          <div className="flex-shrink-0 w-3 h-3 bg-green-500 rounded-full mt-1"></div>
                        )}
                        <div className="flex-1">
                          <div className="flex items-center gap-2">
                            <h3 className="font-semibold text-gray-900">{person.name}</h3>
                            {person.isContact && (
                              <span className="text-xs bg-green-500 text-white px-2 py-0.5 rounded-full">Contact</span>
                            )}
                          </div>
                          <div className="flex items-center gap-1 mt-1 text-sm text-gray-600">
                            <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                            </svg>
                            {person.city}, {person.state}
                          </div>
                          <div className="flex items-center gap-1 mt-1 text-xs text-gray-500">
                            <svg className="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8" />
                            </svg>
                            {person.distance} miles away
                          </div>
                          {person.isContact && person.email && (
                            <div className="flex items-center gap-1 mt-2 text-xs text-indigo-600">
                              <svg className="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                              </svg>
                              <a href={`mailto:${person.email}`} className="hover:underline" onClick={(e) => e.stopPropagation()}>
                                {person.email}
                              </a>
                            </div>
                          )}
                        </div>
                      </div>
                    </div>
                  ))}
                  {filteredPeople.length === 0 && filteredMeetingPlaces.length === 0 && (
                    <div className="text-center py-8 text-gray-500">
                      <svg className="w-12 h-12 mx-auto mb-2 opacity-50" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" />
                      </svg>
                      <p>No people or meeting places found</p>
                    </div>
                  )}
                  
                  {filteredMeetingPlaces.length > 0 && (
                    <>
                      <div className="px-4 pt-6 pb-2">
                        <h2 className="font-semibold text-sm text-gray-700 flex items-center gap-2">
                          <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
                          </svg>
                          Meeting Places
                        </h2>
                      </div>
                      <div className="px-4 space-y-3">
                        {filteredMeetingPlaces.map(place => (
                          <div
                            key={place.id}
                            onClick={() => handlePlaceClick(place)}
                            className={`p-4 border rounded-lg cursor-pointer transition-all hover:shadow-md bg-purple-50 border-purple-300 ${
                              selectedPlace?.id === place.id ? 'border-purple-500 bg-purple-100' : ''
                            }`}
                          >
                            <div className="flex items-start gap-3">
                              <svg className="w-5 h-5 text-purple-600 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
                              </svg>
                              <div className="flex-1">
                                <h3 className="font-semibold text-gray-900">{place.name}</h3>
                                <div className="flex items-center gap-1 mt-1 text-sm text-gray-600">
                                  <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                                  </svg>
                                  {place.state}
                                </div>
                                <div className="flex items-center gap-1 mt-1 text-xs text-gray-500">
                                  <svg className="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8" />
                                  </svg>
                                  {place.distance} miles away
                                </div>
                              </div>
                            </div>
                          </div>
                        ))}
                      </div>
                    </>
                  )}
                </div>
              </div>

              <div className="flex-1 relative">
                <div className="absolute inset-0 bg-gradient-to-br from-blue-100 to-purple-100 flex items-center justify-center">
                  <div className="relative w-full h-full p-8">
                    <div className="bg-white rounded-lg shadow-lg p-4 absolute top-4 right-4 z-10 max-w-xs">
                      <h3 className="font-semibold text-sm mb-2">Map View</h3>
                      <p className="text-xs text-gray-600 mb-2">Click on people to view their location</p>
                      <div className="space-y-1">
                        <div className="flex items-center gap-2 text-xs">
                          <svg className="w-4 h-4 text-blue-600 fill-blue-600" viewBox="0 0 24 24">
                            <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
                          </svg>
                          <span>Your Location</span>
                        </div>
                        <div className="flex items-center gap-2 text-xs">
                          <svg className="w-4 h-4 text-green-600 fill-green-600" viewBox="0 0 24 24">
                            <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
                          </svg>
                          <span>Contact Person</span>
                        </div>
                        <div className="flex items-center gap-2 text-xs">
                          <svg className="w-4 h-4 text-red-600 fill-red-600" viewBox="0 0 24 24">
                            <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
                          </svg>
                          <span>Other Person</span>
                        </div>
                        <div className="flex items-center gap-2 text-xs">
                          <svg className="w-4 h-4 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
                          </svg>
                          <span>Meeting Place</span>
                        </div>
                      </div>
                    </div>

                    <div style={{position: 'absolute', left: '50%', top: '50%', transform: 'translate(-50%, -50%)', zIndex: 30}}>
                      <div style={{position: 'relative'}}>
                        <svg className="w-10 h-10 text-blue-600 fill-blue-600" viewBox="0 0 24 24">
                          <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
                        </svg>
                        <div style={{position: 'absolute', top: '-32px', left: '50%', transform: 'translateX(-50%)'}} className="bg-blue-600 text-white text-xs px-2 py-1 rounded whitespace-nowrap">
                          You
                        </div>
                      </div>
                    </div>

                    <div style={{position: 'relative', width: '100%', height: '100%'}}>
                      {filteredPeople.map(person => {
                        const latDiff = person.lat - userLocation.lat;
                        const lngDiff = person.lng - userLocation.lng;
                        const x = 50 + (lngDiff * 500);
                        const y = 50 - (latDiff * 500);
                        
                        return (
                          <div
                            key={person.id}
                            onClick={() => handlePersonClick(person)}
                            style={{
                              position: 'absolute',
                              left: `${Math.max(10, Math.min(90, x))}%`,
                              top: `${Math.max(10, Math.min(90, y))}%`,
                              transform: 'translate(-50%, -50%)',
                              cursor: 'pointer',
                              transition: 'all 0.2s',
                              zIndex: selectedPerson?.id === person.id ? 20 : 10
                            }}
                          >
                            <div style={{position: 'relative'}}>
                              <svg 
                                className={selectedPerson?.id === person.id ? 'w-12 h-12' : 'w-8 h-8'}
                                style={{transition: 'all 0.2s'}}
                                fill={person.isContact ? '#16a34a' : '#dc2626'}
                                viewBox="0 0 24 24"
                              >
                                <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
                              </svg>
                              {selectedPerson?.id === person.id && (
                                <div style={{
                                  position: 'absolute',
                                  top: '40px',
                                  left: '50%',
                                  transform: 'translateX(-50%)',
                                  width: '192px'
                                }} className="bg-white rounded-lg shadow-xl p-3 border-2 border-indigo-500">
                                  <div className="flex items-center gap-2 mb-2">
                                    <p className="font-semibold text-sm">{person.name}</p>
                                    {person.isContact && (
                                      <span className="text-xs bg-green-500 text-white px-1.5 py-0.5 rounded-full">Contact</span>
                                    )}
                                  </div>
                                  <p className="text-xs text-gray-600">
                                    üìç {person.city}, {person.state}
                                  </p>
                                  <p className="text-xs text-gray-600 mt-1">
                                    üß≠ {person.distance} miles away
                                  </p>
                                  {person.isContact && person.email && (
                                    <div className="flex items-center gap-1 mt-2 text-xs text-indigo-600 border-t pt-2">
                                      <svg className="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                                      </svg>
                                      <a href={`mailto:${person.email}`} className="hover:underline">
                                        {person.email}
                                      </a>
                                    </div>
                                  )}
                                </div>
                              )}
                            </div>
                          </div>
                        );
                      })}
                      
                      {filteredMeetingPlaces.map(place => {
                        const latDiff = place.lat - userLocation.lat;
                        const lngDiff = place.lng - userLocation.lng;
                        const x = 50 + (lngDiff * 500);
                        const y = 50 - (latDiff * 500);
                        
                        return (
                          <div
                            key={`place-${place.id}`}
                            onClick={() => handlePlaceClick(place)}
                            style={{
                              position: 'absolute',
                              left: `${Math.max(10, Math.min(90, x))}%`,
                              top: `${Math.max(10, Math.min(90, y))}%`,
                              transform: 'translate(-50%, -50%)',
                              cursor: 'pointer',
                              transition: 'all 0.2s',
                              zIndex: selectedPlace?.id === place.id ? 20 : 10
                            }}
                          >
                            <div style={{position: 'relative'}}>
                              <svg 
                                className={selectedPlace?.id === place.id ? 'w-12 h-12 text-purple-700' : 'w-8 h-8 text-purple-600'}
                                style={{transition: 'all 0.2s'}}
                                fill="none"
                                stroke="currentColor"
                                viewBox="0 0 24 24"
                              >
                                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
                              </svg>
                              {selectedPlace?.id === place.id && (
                                <div style={{
                                  position: 'absolute',
                                  top: '40px',
                                  left: '50%',
                                  transform: 'translateX(-50%)',
                                  width: '224px'
                                }} className="bg-white rounded-lg shadow-xl p-3 border-2 border-purple-500">
                                  <div className="flex items-center gap-2 mb-2">
                                    <svg className="w-5 h-5 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
                                    </svg>
                                    <p className="font-semibold text-sm">{place.name}</p>
                                  </div>
                                  <p className="text-xs text-gray-600">
                                    üìç {place.state}
                                  </p>
                                  <p className="text-xs text-gray-600 mt-1">
                                    üß≠ {place.distance} miles away
                                  </p>
                                  <p className="text-xs text-gray-500 mt-2 italic">
                                    Address available to members
                                  </p>
                                </div>
                              )}
                            </div>
                          </div>
                        );
                      })}
                    </div>
                  </div>
                </div>
              </div>
            </div>
          );
        };

        ReactDOM.render(<PeopleFinderDatabase />, document.getElementById('root'));
    </script>
</body>
</html>
